# Deploy

The simplest way to deploy a vitro website is to use Vercel

First create a `vercel.json` file that tells Vercel how to deploy the vitro package

```json
{
    "version": 2,
    "builds": [{ "src": ".vitro/next.config.js", "use": "@now/next" }],
    "rewrites": [{ "source": "/(.*)", "destination": "/.vitro/$1" }]
}
```

Install vercel if missing and deploy

```sh
npm i -g vercel
vercel
```

## Deploying to a subpath

Nextjs serves its assets on the `/` path by default, you can change that using the `basePath` feature

Notice that after adding a `basePath` you will have your vitro served on `http://localhost:7007/:basePath`

```js
modules.exports = {
    experiments: './**.experiments.js',
    basePath: process.env.NODE_ENV == 'production' ? '/.vitro' : '/',
}
```

```json
{
    "version": 2,
    "builds": [{ "src": ".vitro/next.config.js", "use": "@now/next" }]
}
```

Now you can run `vercel` to deploy

<!-- TODO run a build step before deploy -->
